<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ–∏ –∑–∞–¥–∞—á–∏ –Ω–∞ –¥–µ–Ω—å</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ -->
    <script src="libs/xlsx.full.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <div class="header">
            <div class="title-section">
                <h1>Just Do List</h1>
                <div class="date-badge" id="currentDate" onclick="calendarModule.toggleCalendar()"></div>
            </div>
            <button class="add-button" onclick="tasksModule.toggleForm()" title="–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É">+</button>
        </div>

        <!-- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å -->
        <div class="mini-calendar" id="miniCalendar">
            <div class="calendar-header">
                <span class="calendar-month" id="calendarMonth">–§–µ–≤—Ä–∞–ª—å 2026</span>
                <div class="calendar-nav">
                    <button onclick="calendarModule.changeMonth(-1)">‚Üê</button>
                    <button onclick="calendarModule.changeMonth(1)">‚Üí</button>
                </div>
            </div>
            <div class="calendar-weekdays">
                <span>–ü–Ω</span>
                <span>–í—Ç</span>
                <span>–°—Ä</span>
                <span>–ß—Ç</span>
                <span>–ü—Ç</span>
                <span>–°–±</span>
                <span>–í—Å</span>
            </div>
            <div class="calendar-days" id="calendarDays"></div>
        </div>

        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div class="stats-container">
            <div class="stat-card">
                <span>üìä</span>
                <span id="totalTasks">0</span>
            </div>
            <div class="stat-card">
                <span>‚úÖ</span>
                <span id="completedTasks">0</span>
            </div>
            <div class="stat-card">
                <span>‚è≥</span>
                <span id="pendingTasks">0</span>
            </div>
            <button class="excel-button" onclick="exportModule.exportToExcel()">
                <span>üìä</span> –°–∫–∞—á–∞—Ç—å Excel-–æ—Ç—á–µ—Ç
            </button>
        </div>

        <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä -->
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill" style="width: 0%"></div>
        </div>

        <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ -->
        <div class="task-form" id="taskForm">
            <h3 style="margin-bottom: 15px; color: #555;">‚ûï –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</h3>
            
            <div class="form-group">
                <label>–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ *</label>
                <input type="text" id="taskTitle" placeholder="–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?">
            </div>

            <div class="form-group">
                <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                <textarea id="taskDescription" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –∑–∞–¥–∞—á–∏..."></textarea>
            </div>

            <div class="form-group">
                <label>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</label>
                <input type="datetime-local" id="taskDateTime">
            </div>

            <div class="form-group">
                <label>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                <div class="priority-selector" id="prioritySelector">
                    <div class="priority-option" data-priority="high" onclick="tasksModule.selectPriority('high')">üî¥ –í—ã—Å–æ–∫–∏–π</div>
                    <div class="priority-option" data-priority="medium" onclick="tasksModule.selectPriority('medium')">üü° –°—Ä–µ–¥–Ω–∏–π</div>
                    <div class="priority-option" data-priority="low" onclick="tasksModule.selectPriority('low')">üü¢ –ù–∏–∑–∫–∏–π</div>
                </div>
            </div>

            <!-- –ü–æ–¥–∑–∞–¥–∞—á–∏ -->
            <div class="subtasks-section">
                <div class="subtasks-header">
                    <h4>–ü–æ–¥–∑–∞–¥–∞—á–∏</h4>
                    <button class="add-subtask-btn" onclick="tasksModule.addSubtaskField()" type="button">+</button>
                </div>
                <div id="subtasksContainer"></div>
            </div>

            <button class="save-btn" onclick="tasksModule.addTask()">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</button>
        </div>

        <!-- –§–∏–ª—å—Ç—Ä—ã -->
        <div class="filters">
            <button class="filter-btn active" onclick="tasksModule.filterTasks('all')" id="filterAll">–í—Å–µ</button>
            <button class="filter-btn" onclick="tasksModule.filterTasks('pending')" id="filterPending">–ê–∫—Ç–∏–≤–Ω—ã–µ</button>
            <button class="filter-btn" onclick="tasksModule.filterTasks('completed')" id="filterCompleted">–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ</button>
        </div>

        <!-- –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á -->
        <div class="tasks-list" id="tasksList"></div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div class="modal" id="editModal">
        <div class="modal-content">
            <h2>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á—É</h2>
            
            <div class="form-group">
                <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                <input type="text" id="editTitle">
            </div>

            <div class="form-group">
                <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                <textarea id="editDescription"></textarea>
            </div>

            <div class="form-group">
                <label>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</label>
                <input type="datetime-local" id="editDateTime">
            </div>

            <div class="form-group">
                <label>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                <select id="editPriority">
                    <option value="high">üî¥ –í—ã—Å–æ–∫–∏–π</option>
                    <option value="medium">üü° –°—Ä–µ–¥–Ω–∏–π</option>
                    <option value="low">üü¢ –ù–∏–∑–∫–∏–π</option>
                </select>
            </div>

            <!-- –°–µ–∫—Ü–∏—è –ø–æ–¥–∑–∞–¥–∞—á –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
            <div class="subtasks-section">
                <div class="subtasks-header">
                    <h4>–ü–æ–¥–∑–∞–¥–∞—á–∏</h4>
                    <button class="add-subtask-btn" onclick="tasksModule.addEditSubtaskField()" type="button">+</button>
                </div>
                <div id="editSubtasksContainer"></div>
            </div>

            <button class="save-btn" onclick="tasksModule.saveEdit()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button class="save-btn close-btn" onclick="tasksModule.closeModal()">–û—Ç–º–µ–Ω–∞</button>
        </div>
    </div>

    <!-- JavaScript –º–æ–¥—É–ª–∏ -->
    <script src="js/calendar.js"></script>
    <script src="js/tasks.js"></script>
    <script src="js/export.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
